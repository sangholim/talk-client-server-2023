<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{/layout/grid-layout}">
<div layout:fragment="script">
    <script type="text/javascript" th:src="@{/js/components/spinner.js}"></script>
    <script type="text/javascript" th:src="@{/js/chat/chat-insert.js}"></script>
    <script type="text/javascript">
        document.addEventListener("DOMContentLoaded", () => {
            chat.insert.addEvents();
        });
    </script>
</div>
<div layout:fragment="header">
    <th:block th:insert="/chat/header::header"></th:block>
</div>
<div layout:fragment="menu">
    <th:block th:insert="/menu/menu::menu"></th:block>
</div>
<div layout:fragment="content">
    <th:block th:each="chat: ${chats}">
        <div class="item row row-col-2 border-bottom" th:onclick="|location.href='@{/chats/{chatId}(chatId=${chat.chatId})}'|">
            <div class="col-2 mt-3 mb-3">
                <div class="row h-100">
                    <div class="d-flex justify-content-center align-items-center">
                        <img th:src="${chat.image}" alt="..." style="max-height: 60px">
                    </div>
                </div>
            </div>
            <div class="col-10 mt-3 mb-3">
                <div class="row" style="font-size: 1.5rem;" th:text="${chat.roomName}"></div>
                <div class="row" style="font-size: 0.8rem; color:grey">TODO(메세지)</div>
            </div>
        </div>
    </th:block>
    <th:block th:insert="/chat/insert::insert"></th:block>
    <th:block th:insert="/components/spinner::components-spinner"></th:block>
</div>
</html>
